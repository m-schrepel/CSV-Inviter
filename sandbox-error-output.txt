This is output from the sandbox


Begin sending bulk invitation requests to server.
Csrf: Ix9uAP_cOyS00PWcxT6wzF4cwQ37YoOL32pqRpRF1Cc=
session: B20B22D1DA2FFCFFA15BA69E8893FA69
Load and parse sandboxtest.csv
loadAndRunCSVLoop - Process file: sandboxtest.csv
Read csv: sandboxtest.csv
createRequestFromRow - Process rowObj
send request...
{ Error: Request failed with status code 400
    at createError (/Users/joshspotswood/csvInvite/node_modules/axios/lib/core/createError.js:16:15)
    at settle (/Users/joshspotswood/csvInvite/node_modules/axios/lib/core/settle.js:18:12)
    at IncomingMessage.handleStreamEnd (/Users/joshspotswood/csvInvite/node_modules/axios/lib/adapters/http.js:190:11)
    at emitNone (events.js:91:20)
    at IncomingMessage.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:80:11)
    at process._tickCallback (internal/process/next_tick.js:104:9)
  config: 
   { adapter: [Function: httpAdapter],
     transformRequest: { '0': [Function: transformRequest] },
     transformResponse: { '0': [Function: transformResponse] },
     timeout: 0,
     xsrfCookieName: 'XSRF-TOKEN',
     xsrfHeaderName: 'X-XSRF-TOKEN',
     maxContentLength: -1,
     validateStatus: [Function: validateStatus],
     headers: 
      { Accept: 'text/plain',
        'Content-Type': 'application/json',
        host: 'sandbox.tradeshift.com',
        'User-Agent': 'DDMagicScript/1.0',
        'accept-language': 'en-GB,en-US;q=0.8,en;q=0.5,da;q=0.3',
        'X-Tradeshift-Remote-Component-ID': 'TradeshiftDD.DDManager.Main 1.0.0-848876f682f9f0ad966083b445c32907',
        'X-Tradeshift-Remote-HTTP-Method': 'post',
        'X-Tradeshift-Remote-Service-Key': 'provider',
        'X-Requested-With': 'XMLHttpRequest',
        Referer: 'https://sandbox.tradeshift.com/ts3/frame/1095761275',
        Cookie: 'TSAPPID=90769707; test=1; csrfToken=Ix9uAP_cOyS00PWcxT6wzF4cwQ37YoOL32pqRpRF1Cc=; JSESSIONID=B20B22D1DA2FFCFFA15BA69E8893FA69;',
        DNT: '1',
        Connection: 'keep-alive',
        'Content-Length': 311 },
     method: 'post',
     url: 'https://sandbox.tradeshift.com/appRuntime/proxy/actions/manager/createandinvite?onboardingId=8224d60c-ec21-4dd6-8865-1d34d71c60b8',
     data: '{"supplierEmail":"skw+0518sw@tradeshift.com","fundingRate":"22","settlementPeriod":"45","deleted":"false","status":"DRAFT","fromEmail":"no-reply","skipContractReview":"false","programIds":["23177f19-0ac8-4e66-b24c-5ce0e61f0eb1"],"properties":{},"supplierCompanyAccountId":"cadea80b-2ace-5a97-82ff-4d03416ed854"}' },
  request: 
   ClientRequest {
     domain: null,
     _events: 
      { socket: [Function],
        abort: [Function],
        aborted: [Function],
        error: [Function],
        prefinish: [Function: requestOnPrefinish] },
     _eventsCount: 5,
     _maxListeners: undefined,
     output: [],
     outputEncodings: [],
     outputCallbacks: [],
     outputSize: 0,
     writable: true,
     _last: true,
     upgrading: false,
     chunkedEncoding: false,
     shouldKeepAlive: true,
     useChunkedEncodingByDefault: true,
     sendDate: false,
     _removedHeader: { connection: false, 'content-length': false },
     _contentLength: 311,
     _hasBody: true,
     _trailer: '',
     finished: true,
     _headerSent: true,
     socket: 
      TLSSocket {
        _tlsOptions: [Object],
        _secureEstablished: true,
        _securePending: false,
        _newSessionPending: false,
        _controlReleased: true,
        _SNICallback: null,
        servername: null,
        npnProtocol: undefined,
        alpnProtocol: false,
        authorized: true,
        authorizationError: null,
        encrypted: true,
        _events: [Object],
        _eventsCount: 9,
        connecting: false,
        _hadError: false,
        _handle: null,
        _parent: null,
        _host: 'sandbox.tradeshift.com',
        _readableState: [Object],
        readable: false,
        domain: null,
        _maxListeners: undefined,
        _writableState: [Object],
        writable: false,
        allowHalfOpen: false,
        destroyed: true,
        _bytesDispatched: 1064,
        _sockname: null,
        _pendingData: null,
        _pendingEncoding: '',
        server: undefined,
        _server: null,
        ssl: null,
        _requestCert: true,
        _rejectUnauthorized: true,
        parser: null,
        _httpMessage: [Circular],
        read: [Function],
        _consuming: true,
        _idleNext: null,
        _idlePrev: null,
        _idleTimeout: -1 },
     connection: 
      TLSSocket {
        _tlsOptions: [Object],
        _secureEstablished: true,
        _securePending: false,
        _newSessionPending: false,
        _controlReleased: true,
        _SNICallback: null,
        servername: null,
        npnProtocol: undefined,
        alpnProtocol: false,
        authorized: true,
        authorizationError: null,
        encrypted: true,
        _events: [Object],
        _eventsCount: 9,
        connecting: false,
        _hadError: false,
        _handle: null,
        _parent: null,
        _host: 'sandbox.tradeshift.com',
        _readableState: [Object],
        readable: false,
        domain: null,
        _maxListeners: undefined,
        _writableState: [Object],
        writable: false,
        allowHalfOpen: false,
        destroyed: true,
        _bytesDispatched: 1064,
        _sockname: null,
        _pendingData: null,
        _pendingEncoding: '',
        server: undefined,
        _server: null,
        ssl: null,
        _requestCert: true,
        _rejectUnauthorized: true,
        parser: null,
        _httpMessage: [Circular],
        read: [Function],
        _consuming: true,
        _idleNext: null,
        _idlePrev: null,
        _idleTimeout: -1 },
     _header: 'POST /appRuntime/proxy/actions/manager/createandinvite?onboardingId=8224d60c-ec21-4dd6-8865-1d34d71c60b8 HTTP/1.1\r\nAccept: text/plain\r\nContent-Type: application/json\r\nhost: sandbox.tradeshift.com\r\nUser-Agent: DDMagicScript/1.0\r\naccept-language: en-GB,en-US;q=0.8,en;q=0.5,da;q=0.3\r\nX-Tradeshift-Remote-Component-ID: TradeshiftDD.DDManager.Main 1.0.0-848876f682f9f0ad966083b445c32907\r\nX-Tradeshift-Remote-HTTP-Method: post\r\nX-Tradeshift-Remote-Service-Key: provider\r\nX-Requested-With: XMLHttpRequest\r\nReferer: https://sandbox.tradeshift.com/ts3/frame/1095761275\r\nCookie: TSAPPID=90769707; test=1; csrfToken=Ix9uAP_cOyS00PWcxT6wzF4cwQ37YoOL32pqRpRF1Cc=; JSESSIONID=B20B22D1DA2FFCFFA15BA69E8893FA69;\r\nDNT: 1\r\nConnection: keep-alive\r\nContent-Length: 311\r\n\r\n',
     _headers: 
      { accept: 'text/plain',
        'content-type': 'application/json',
        host: 'sandbox.tradeshift.com',
        'user-agent': 'DDMagicScript/1.0',
        'accept-language': 'en-GB,en-US;q=0.8,en;q=0.5,da;q=0.3',
        'x-tradeshift-remote-component-id': 'TradeshiftDD.DDManager.Main 1.0.0-848876f682f9f0ad966083b445c32907',
        'x-tradeshift-remote-http-method': 'post',
        'x-tradeshift-remote-service-key': 'provider',
        'x-requested-with': 'XMLHttpRequest',
        referer: 'https://sandbox.tradeshift.com/ts3/frame/1095761275',
        cookie: 'TSAPPID=90769707; test=1; csrfToken=Ix9uAP_cOyS00PWcxT6wzF4cwQ37YoOL32pqRpRF1Cc=; JSESSIONID=B20B22D1DA2FFCFFA15BA69E8893FA69;',
        dnt: '1',
        connection: 'keep-alive',
        'content-length': 311 },
     _headerNames: 
      { accept: 'Accept',
        'content-type': 'Content-Type',
        host: 'host',
        'user-agent': 'User-Agent',
        'accept-language': 'accept-language',
        'x-tradeshift-remote-component-id': 'X-Tradeshift-Remote-Component-ID',
        'x-tradeshift-remote-http-method': 'X-Tradeshift-Remote-HTTP-Method',
        'x-tradeshift-remote-service-key': 'X-Tradeshift-Remote-Service-Key',
        'x-requested-with': 'X-Requested-With',
        referer: 'Referer',
        cookie: 'Cookie',
        dnt: 'DNT',
        connection: 'Connection',
        'content-length': 'Content-Length' },
     _onPendingData: null,
     agent: 
      Agent {
        domain: null,
        _events: [Object],
        _eventsCount: 1,
        _maxListeners: undefined,
        defaultPort: 443,
        protocol: 'https:',
        options: [Object],
        requests: {},
        sockets: [Object],
        freeSockets: {},
        keepAliveMsecs: 1000,
        keepAlive: false,
        maxSockets: Infinity,
        maxFreeSockets: 256,
        maxCachedSessions: 100,
        _sessionCache: [Object] },
     socketPath: undefined,
     timeout: undefined,
     method: 'POST',
     path: '/appRuntime/proxy/actions/manager/createandinvite?onboardingId=8224d60c-ec21-4dd6-8865-1d34d71c60b8',
     _ended: true,
     _redirectable: 
      Writable {
        _writableState: [Object],
        writable: true,
        domain: null,
        _events: [Object],
        _eventsCount: 2,
        _maxListeners: undefined,
        _redirectCount: 0,
        _onNativeResponse: [Function],
        _currentRequest: [Circular],
        _currentUrl: 'https://sandbox.tradeshift.com/appRuntime/proxy/actions/manager/createandinvite?onboardingId=8224d60c-ec21-4dd6-8865-1d34d71c60b8' },
     parser: null,
     res: 
      IncomingMessage {
        _readableState: [Object],
        readable: false,
        domain: null,
        _events: [Object],
        _eventsCount: 3,
        _maxListeners: undefined,
        socket: [Object],
        connection: [Object],
        httpVersionMajor: 1,
        httpVersionMinor: 1,
        httpVersion: '1.1',
        complete: true,
        headers: [Object],
        rawHeaders: [Object],
        trailers: {},
        rawTrailers: [],
        upgrade: false,
        url: '',
        method: null,
        statusCode: 400,
        statusMessage: 'Bad Request',
        client: [Object],
        _consuming: true,
        _dumped: false,
        req: [Circular],
        responseUrl: 'https://sandbox.tradeshift.com/appRuntime/proxy/actions/manager/createandinvite?onboardingId=8224d60c-ec21-4dd6-8865-1d34d71c60b8',
        read: [Function] } },
  response: 
   { status: 400,
     statusText: 'Bad Request',
     headers: 
      { 'x-tradeshift-userid': '66eafb38-8c0c-4235-92a8-3f2ed11ce3e2',
        'x-resume-to': 'jobs@tradeshift.com',
        'x-ua-compatible': 'IE=edge,chrome=1',
        'cache-control': 'no-store,no-cache',
        pragma: 'no-cache',
        'x-frame-options': 'SAMEORIGIN',
        'content-type': 'text/plain;charset=utf-8',
        'content-language': 'en-US',
        'content-length': '7081',
        'strict-transport-security': 'max-age=31536000; includeSubDomains' },
     config: 
      { adapter: [Function: httpAdapter],
        transformRequest: [Object],
        transformResponse: [Object],
        timeout: 0,
        xsrfCookieName: 'XSRF-TOKEN',
        xsrfHeaderName: 'X-XSRF-TOKEN',
        maxContentLength: -1,
        validateStatus: [Function: validateStatus],
        headers: [Object],
        method: 'post',
        url: 'https://sandbox.tradeshift.com/appRuntime/proxy/actions/manager/createandinvite?onboardingId=8224d60c-ec21-4dd6-8865-1d34d71c60b8',
        data: '{"supplierEmail":"skw+0518sw@tradeshift.com","fundingRate":"22","settlementPeriod":"45","deleted":"false","status":"DRAFT","fromEmail":"no-reply","skipContractReview":"false","programIds":["23177f19-0ac8-4e66-b24c-5ce0e61f0eb1"],"properties":{},"supplierCompanyAccountId":"cadea80b-2ace-5a97-82ff-4d03416ed854"}' },
     request: 
      ClientRequest {
        domain: null,
        _events: [Object],
        _eventsCount: 5,
        _maxListeners: undefined,
        output: [],
        outputEncodings: [],
        outputCallbacks: [],
        outputSize: 0,
        writable: true,
        _last: true,
        upgrading: false,
        chunkedEncoding: false,
        shouldKeepAlive: true,
        useChunkedEncodingByDefault: true,
        sendDate: false,
        _removedHeader: [Object],
        _contentLength: 311,
        _hasBody: true,
        _trailer: '',
        finished: true,
        _headerSent: true,
        socket: [Object],
        connection: [Object],
        _header: 'POST /appRuntime/proxy/actions/manager/createandinvite?onboardingId=8224d60c-ec21-4dd6-8865-1d34d71c60b8 HTTP/1.1\r\nAccept: text/plain\r\nContent-Type: application/json\r\nhost: sandbox.tradeshift.com\r\nUser-Agent: DDMagicScript/1.0\r\naccept-language: en-GB,en-US;q=0.8,en;q=0.5,da;q=0.3\r\nX-Tradeshift-Remote-Component-ID: TradeshiftDD.DDManager.Main 1.0.0-848876f682f9f0ad966083b445c32907\r\nX-Tradeshift-Remote-HTTP-Method: post\r\nX-Tradeshift-Remote-Service-Key: provider\r\nX-Requested-With: XMLHttpRequest\r\nReferer: https://sandbox.tradeshift.com/ts3/frame/1095761275\r\nCookie: TSAPPID=90769707; test=1; csrfToken=Ix9uAP_cOyS00PWcxT6wzF4cwQ37YoOL32pqRpRF1Cc=; JSESSIONID=B20B22D1DA2FFCFFA15BA69E8893FA69;\r\nDNT: 1\r\nConnection: keep-alive\r\nContent-Length: 311\r\n\r\n',
        _headers: [Object],
        _headerNames: [Object],
        _onPendingData: null,
        agent: [Object],
        socketPath: undefined,
        timeout: undefined,
        method: 'POST',
        path: '/appRuntime/proxy/actions/manager/createandinvite?onboardingId=8224d60c-ec21-4dd6-8865-1d34d71c60b8',
        _ended: true,
        _redirectable: [Object],
        parser: null,
        res: [Object] },
     data: '\n<!DOCTYPE html>\n\n\n<!--[if IE 6 ]>\n    <html xmlns="http://www.w3.org/1999/xhtml" \n\txmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" \n\txmlns:ts="http://go.tradeshift.com/ns/ts#" \n\txmlns:doc="http://go.tradeshift.com/ns/doc#" \n\txmlns:ui="http://go.tradeshift.com/ns/ui#" \n\txmlns:vcard="http://www.w3.org/2006/vcard/ns#" \n\txmlns:ng="http://angularjs.org" \n\tclass="ie ie6" lang="en_US" version="XHTML+RDFa 1.0">\n\n<![endif]-->\n<!--[if IE 7 ]>\n    <html xmlns="http://www.w3.org/1999/xhtml" \n\txmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" \n\txmlns:ts="http://go.tradeshift.com/ns/ts#" \n\txmlns:doc="http://go.tradeshift.com/ns/doc#" \n\txmlns:ui="http://go.tradeshift.com/ns/ui#" \n\txmlns:vcard="http://www.w3.org/2006/vcard/ns#" \n\txmlns:ng="http://angularjs.org" \n\tclass="ie ie7" lang="en_US" version="XHTML+RDFa 1.0">\n\n<![endif]-->\n<!--[if IE 8 ]>\n    <html xmlns="http://www.w3.org/1999/xhtml" \n\txmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" \n\txmlns:ts="http://go.tradeshift.com/ns/ts#" \n\txmlns:doc="http://go.tradeshift.com/ns/doc#" \n\txmlns:ui="http://go.tradeshift.com/ns/ui#" \n\txmlns:vcard="http://www.w3.org/2006/vcard/ns#" \n\txmlns:ng="http://angularjs.org" \n\tclass="ie ie8" lang="en_US" version="XHTML+RDFa 1.0">\n\n<![endif]-->\n<!--[if IE 9]>\n    <html xmlns="http://www.w3.org/1999/xhtml" \n\txmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" \n\txmlns:ts="http://go.tradeshift.com/ns/ts#" \n\txmlns:doc="http://go.tradeshift.com/ns/doc#" \n\txmlns:ui="http://go.tradeshift.com/ns/ui#" \n\txmlns:vcard="http://www.w3.org/2006/vcard/ns#" \n\txmlns:ng="http://angularjs.org" \n\tclass="ie ie9" lang="en_US" version="XHTML+RDFa 1.0">\n\n<![endif]-->\n<!--[if gt IE 9]>\n    \n    <html xmlns="http://www.w3.org/1999/xhtml" \n\txmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" \n\txmlns:ts="http://go.tradeshift.com/ns/ts#" \n\txmlns:doc="http://go.tradeshift.com/ns/doc#" \n\txmlns:ui="http://go.tradeshift.com/ns/ui#" \n\txmlns:vcard="http://www.w3.org/2006/vcard/ns#" \n\txmlns:ng="http://angularjs.org" \n\tclass="ie ie10" lang="en_US" version="XHTML+RDFa 1.0">\n\n<![endif]-->\n<!--[if !IE]><!-->\n    <html xmlns="http://www.w3.org/1999/xhtml" \n\txmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" \n\txmlns:ts="http://go.tradeshift.com/ns/ts#" \n\txmlns:doc="http://go.tradeshift.com/ns/doc#" \n\txmlns:ui="http://go.tradeshift.com/ns/ui#" \n\txmlns:vcard="http://www.w3.org/2006/vcard/ns#" \n\txmlns:ng="http://angularjs.org" \n\tclass="ok" lang="en_US" version="XHTML+RDFa 1.0">\n\n<!--<![endif]-->\n\t<head>\n        <title>Illegal request</title>\n\t\t\n\n\n<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>\n<meta http-equiv="content-type" content="text/html;charset=utf-8"/>\n<meta http-equiv="imagetoolbar" content="no"/>\n<meta name="keywords" content="free,instant,invoicing,business,network,enterprise"/>\n<meta name="description" content="Tradeshift is the free invoicing tool. Tradeshift is a great alternative to creating your invoices on paper or in an office package."/>\n<title>Illegal request</title>\n\n\n    <link rel="stylesheet" type="text/css" href="https://d5wfroyti11sa.cloudfront.net/prod/b/ts-55433090d580780fa6d2b58f9b2a4babcb986f9da.css"/>\n\n\n\n\t<link rel="stylesheet" type="text/css" href="https://d5wfroyti11sa.cloudfront.net/prod/b/migration-bb0e46fbb4f3ac663408f77349d1f2a5c98f12c3a.css"/>\n\n\n<link rel="stylesheet" type="text/css" href="https://d5wfroyti11sa.cloudfront.net/prod/b/fonts-8333f8f775aec20a771c6c81dd71e89ecec98a2ea.css"/>\n\n<!-- you can hotlink to this stylesheet from your iframe app: -->\n<!--<link rel="stylesheet" type="text/css" href="https://d5wfroyti11sa.cloudfront.net/prod/b/forapps-05226f8c369abde78a5aedb077808bcaa77028a9a.css"/>-->\n\n\n    <script>window.TS_LOGGED_IN = true;</script>\n       \n       <meta name="X-Tradeshift-TenantId" content="b2af2d1f-4757-4043-990a-07ecd6c27a40" about="https://sandbox.tradeshift.com/tenant/view/b2af2d1f-4757-4043-990a-07ecd6c27a40" typeof="ts:CompanyAccount" property="ts:id"/>\n       <meta name="X-Tradeshift-ActorId" content="66eafb38-8c0c-4235-92a8-3f2ed11ce3e2" about="urn:tradeshift:Actor" typeof="ts:Actor" property="ts:id"/>\n       <meta name="X-Tradeshift-RequestId" content="7c9a03bf-bd26-4422-9fa7-d0b7eed52bda"/>\n       <link about="urn:tradeshift:Actor" rel="ts:companyAccount" href="https://sandbox.tradeshift.com/tenant/view/b2af2d1f-4757-4043-990a-07ecd6c27a40"/>\n       <meta about="urn:tradeshift:Page" property="ui:url" content="/appRuntime/proxy/actions/manager/createandinvite"/>\n       <meta about="urn:tradeshift:Page" property="ui:query" content="onboardingId=8224d60c%2Dec21%2D4dd6%2D8865%2D1d34d71c60b8"/>\n       <meta about="urn:tradeshift:Page" property="ui:referrer" content="https://sandbox.tradeshift.com/ts3/frame/1095761275"/>\n       <meta about="urn:tradeshift:Page" property="ui:language" content="en"/>\n       <meta about="urn:tradeshift:Page" property="ui:timezone" content="America/Los_Angeles"/>\n       \n\n\n\n\n\n\t<meta name="X-Tradeshift-Features" content="usedataprofileandrequests,accountcompleteness,esconnectionsearch,esusersearch,quicklinksondashboard,usetaskservice,newemailtemplate,usesupportapp,supporttab,enableengagementflow">\n\n\n\n        \n    \n\n\n\n\n\n  <script type="text/javascript">\n    function initializeAnalytics() {\n      (function(i,s,o,g,r,a,m){i[\'GoogleAnalyticsObject\']=r;i[r]=i[r]||function(){\n      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n      })(window,document,\'script\',\'//www.google-analytics.com/analytics.js\',\'ga\');\n\n      ga(\'create\', \'false\', {\n        siteSpeedSampleRate: 100\n      });\n\n      \n\n      sendTracking();\n    }\n\n    function sendTracking(){\n      ga(\'send\', \'pageview\', window.location.pathname);\n      \n    }\n\n    if (window.ga === undefined) {\n      if (window.parent.ga !== undefined) {\n        window.ga = parent.ga;\n        sendTracking();\n      } else {\n        initializeAnalytics();  \n      }\n    }\n  </script>\n\n\n\n\t\t<link rel="stylesheet" type="text/css" href="https://d5wfroyti11sa.cloudfront.net/prod/b/errorPage-3def068f42a88eeebea7067f57d22ae0956c4a28a.css"/>\n\t\t\n        \n    \n\t</head>\n\t<body>\n\t\t\n        <div class="container tst-500">\n            <h2>\n                Something is not right\n            </h2>\n            <p>\n                The action youre trying to perform cant be completed. In some cases a simple reload of the page helps, otherwise <a href="https://support.tradeshift.com" target="_blank">contact our friendly support team</a> and they will help.\n            </p>\n            <a class="button large template" onclick="window.location.reload();">\n    Reload page\n</a>\n\n<a class="button large back" onclick="window.history.back();window.history.back();">\n    Go back\n</a>\n\n<a class="button large home" href="/">\n    Go back to start\n</a>\n\n<p>\n    <a href="https://support.tradeshift.com" target="_blank">\n        Visit our support page\n    </a>\n</p>\n\n        </div>\n        \n    \n\t</body>\n</html>\n' } }
